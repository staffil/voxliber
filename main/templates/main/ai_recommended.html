{% extends "base.html" %}
{% load static %}

{% block title %}VOXLIBER - AI ì¶”ì²œí•˜ê¸°{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/ai/ai_recommended.css' %}">
{% endblock %}

{% block content %}
<div class="ai-recommend-wrapper">
    <div class="recommend-header">
        <br><br>

        <h1 class="recommend-title">AI ë§ì¶¤ ì¶”ì²œ</h1>
        <p class="recommend-subtitle">ë‹¹ì‹ ì„ ìœ„í•œ ì™„ë²½í•œ ì±…ì„ ì°¾ì•„ë“œë ¸ì–´ìš”</p>
    </div>

    <div class="recommend-list">
        {% for msg in chat_messages %}
            {% if msg.type == "book" %}
            <div class="recommend-item">


                <!-- ì±… ì»¤ë²„ -->
                <div class="book-cover-wrapper">
                    {% if msg.book.cover_img %}
                        <img src="{{ msg.book.cover_img.url }}" alt="{{ msg.book.name }}" class="book-cover">
                    {% else %}
                        <div class="book-cover-placeholder">
                            <span>ğŸ“š</span>
                        </div>
                    {% endif %}

                </div>

                <!-- ì±… ì •ë³´ -->
                <div class="book-info">
                    <h3 class="book-title">{{ msg.book.name }}</h3>
                    <p class="book-author">{{ msg.book.author }}</p>

                    <div class="book-meta-tags">
                        <span class="meta-tag tag">ğŸ· {{ msg.book.tag_match }}</span>
                        <span class="meta-tag genre">ğŸ“š {{ msg.book.genre_match }}</span>
                        <span class="meta-tag score">â­ {{ msg.book.book_score }}</span>
                    </div>

                    <!-- AI ì¶”ì²œ ì´ìœ  -->
                    <div class="ai-reason">
                        <span class="ai-icon">ğŸ¤–</span>
                        <p>{{ msg.reason }}</p>
                    </div>


                </div>
            </div>
            {% endif %}
        {% endfor %}
    </div>



</div>
{% endblock %}

{% block extra_js %}
<script>
    // ë‚˜ì¤‘ì— "ë‹¤ì‹œ ì¶”ì²œí•´ì¤˜" ë²„íŠ¼, ìë™ ìŠ¤í¬ë¡¤ ë“± í™•ì¥ ê°€ëŠ¥
</script>
{% endblock %}

{% extends "base.html" %}
{% load static %}

{% block title %}ë‚´ ê´‘ê³  ëª©ë¡ - VOXLIBER{% endblock %}

{% block extra_css %}
<style>
    .wrap {
        max-width: 720px;
        margin: 80px auto 60px;
        padding: 0 20px;
    }

    .page-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 32px;
    }

    .page-title { font-size: 22px; font-weight: 700; }

    .request-btn {
        padding: 10px 20px;
        background: #fff;
        color: #000;
        border-radius: 20px;
        font-size: 13px;
        font-weight: 700;
        text-decoration: none;
        transition: opacity 0.2s;
    }

    .request-btn:hover { opacity: 0.8; }

    /* ë¦¬ìŠ¤íŠ¸ */
    .ad-list { display: flex; flex-direction: column; gap: 12px; }

    .ad-item {
        background: #1a1a1a;
        border: 1px solid #2a2a2a;
        border-radius: 14px;
        padding: 16px 20px;
        display: flex;
        align-items: center;
        gap: 16px;
    }

    .ad-thumb {
        width: 64px;
        height: 64px;
        border-radius: 10px;
        background: #111;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
        overflow: hidden;
    }

    .ad-thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .ad-info { flex: 1; min-width: 0; }

    .ad-title {
        font-size: 15px;
        font-weight: 600;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .ad-meta {
        font-size: 12px;
        color: #666;
        margin-top: 5px;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }

    .ad-desc {
        font-size: 12px;
        color: #555;
        margin-top: 4px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .ad-badge {
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 11px;
        font-weight: 700;
        flex-shrink: 0;
    }

    .badge-pending  { background: rgba(255,193,7,0.12);  color: #ffc107; }
    .badge-active   { background: rgba(76,175,80,0.12);  color: #4CAF50; }
    .badge-rejected { background: rgba(231,76,60,0.12);  color: #e74c3c; }

    /* íƒ€ì… ë±ƒì§€ */
    .type-tag {
        background: #222;
        border: 1px solid #333;
        border-radius: 6px;
        padding: 2px 7px;
        font-size: 11px;
        color: #888;
    }

    /* ë¹ˆ ìƒíƒœ */
    .empty-state {
        text-align: center;
        padding: 80px 20px;
        color: #555;
    }

    .empty-icon { font-size: 48px; margin-bottom: 16px; }
    .empty-text { font-size: 15px; margin-bottom: 20px; }

    .empty-btn {
        display: inline-block;
        padding: 12px 24px;
        background: #fff;
        color: #000;
        border-radius: 20px;
        font-size: 13px;
        font-weight: 700;
        text-decoration: none;
    }
</style>
{% endblock %}

{% block content %}
<br>
<div class="wrap">

    <div class="page-header">
        <h1 class="page-title">ë‚´ ê´‘ê³  ëª©ë¡</h1>
        <a href="{% url 'advertisment:request_ad_view' %}" class="request-btn">+ ê´‘ê³  ì‹ ì²­</a>
    </div>

    <div class="ad-list">
        {% for ad in my_ads %}
        <div class="ad-item">

            <div class="ad-thumb">
                {% if ad.image %}
                    <img src="{{ ad.image.url }}" alt="{{ ad.title }}">
                {% elif ad.ad_type == 'video' %}
                    ğŸ¬
                {% elif ad.ad_type == 'audio' %}
                    ğŸµ
                {% else %}
                    ğŸ–¼ï¸
                {% endif %}
            </div>

            <div class="ad-info">
                <div class="ad-title">{{ ad.title }}</div>
                <div class="ad-meta">
                    <span class="type-tag">
                        {% if ad.ad_type == 'image' %}ì´ë¯¸ì§€
                        {% elif ad.ad_type == 'video' %}ì˜ìƒ
                        {% elif ad.ad_type == 'audio' %}ì˜¤ë””ì˜¤
                        {% endif %}
                    </span>
                    <span>{{ ad.placement }}</span>
                    <span>{{ ad.created_at|date:"Y.m.d" }}</span>
                </div>
                {% if ad.description %}
                <div class="ad-desc">{{ ad.description }}</div>
                {% endif %}
            </div>

            <div class="ad-badge {% if ad.is_active %}badge-active{% else %}badge-pending{% endif %}">
                {% if ad.is_active %}ìŠ¹ì¸ë¨{% else %}ì‹¬ì‚¬ ì¤‘{% endif %}
            </div>

        </div>
        {% empty %}
        <div class="empty-state">
            <div class="empty-icon">ğŸ“­</div>
            <div class="empty-text">ì•„ì§ ì‹ ì²­í•œ ê´‘ê³ ê°€ ì—†ìŠµë‹ˆë‹¤</div>
            <a href="{% url 'advertisment:request_ad_view' %}" class="empty-btn">ì²« ê´‘ê³  ì‹ ì²­í•˜ê¸°</a>
        </div>
        {% endfor %}
    </div>

</div>
{% endblock %}
{% extends "base.html" %}
{% load static i18n %}

{% block title %}{{ llm.name }} - AI ì†Œê°œ{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/character/ai_intro.css' %}">
{% endblock %}

{% block content %}
<br><br><br>
<div class="ai-intro-container">
    <!-- í—¤ë” -->
    <div class="intro-header">
        <span class="intro-header-title">AI ìºë¦­í„° ì •ë³´</span>
        <a href="javascript:history.back()" class="intro-close-btn">&times;</a>
    </div>

    <!-- ë©”ì¸ ì´ë¯¸ì§€ -->
    <div class="intro-main-image">
        {% if llm.llm_image %}
            <img src="{{ llm.llm_image.url }}" alt="{{ llm.name }}">
        {% else %}
            <div class="intro-main-image-placeholder">ğŸ¤–</div>
        {% endif %}
        <div class="intro-like-badge">
            <span>ğŸ‘</span>
            <span>{{ llm.likes|default:0 }}</span>
        </div>
    </div>

    <!-- ì»¨í…ì¸  -->
    <div class="intro-content">
        <!-- ì œëª© -->
        <h1 class="intro-title">{{ llm.name }}</h1>

        <!-- ì‘ì„±ì -->
        <div class="intro-author-row">
            <div class="intro-author-avatar">
                {{ llm.user.username|slice:":1"|upper }}
            </div>
            <span class="intro-author-name">
                @ <a href="#">{{ llm.user.nickname }}</a>
            </span>
        </div>

        <!-- íƒœê·¸ -->
        <div class="intro-tags">
            {% if llm.story %}
            <span class="intro-tag highlight">ğŸ“– {{ llm.story.title }}</span>
            {% endif %}
   
            {% if llm.language %}
            <span class="intro-tag">ğŸŒ {{ llm.language|upper }}</span>
            {% endif %}
        </div>

        <!-- ì„¤ëª… -->
        {% if llm.description %}
        <div class="intro-description">
            <div class="intro-description-label">ì†Œê°œ</div>
            <div class="intro-description-text">{{ llm.description }}</div>
        </div>
        {% endif %}

        <!-- ì²« ë§ˆë”” -->
        {% if llm.first_sentence %}
        <div class="intro-first-message">
            
            <div class="message-avatar">
                {% if llm.llm_image %}
                    <img src="{{ llm.llm_image.url }}" alt="{{ llm.name }}">
                {% else %}
                    <div class="message-avatar-placeholder">ğŸ¤–</div>
                {% endif %}
            </div>
            <div class="intro-first-message-bubble">
                "{{ llm.first_sentence }}"
            </div>
        </div>
        {% endif %}
        <!-- í”Œë ˆì´ ë²„íŠ¼ -->
        {% if is_preview %}
        <button type="button" class="intro-play-btn" onclick="if(opener){opener.document.getElementById('submit-btn').click();window.close();}else{history.back();}" data-login-required>
            ğŸ’¬ AI ìºë¦­í„° ìƒì„±í•˜ê¸°
        </button>
        {% else %}
        <!-- {% url 'character:chat-view' llm.public_uuid %} -->
        <a href="#" class="intro-play-btn" data-login-required  onclick="showAppInstallModal()">
            ğŸ’¬ ëŒ€í™” ì‹œì‘í•˜ê¸°
        </a>
        {% endif %}

            <div class="intro-description-label">ë‹¤ë¥¸ ìºë¦­í„°</div>

        <!-- ìºë¦­í„° ì¹´ë“œ -->
        <div class="intro-character-card">
{% if other_llms %}
    <h3>ê°™ì€ ìŠ¤í† ë¦¬ì˜ ë‹¤ë¥¸ AI ìºë¦­í„°ë“¤</h3>
    <div class="other-llms-container">
        {% for other in other_llms %}
            <div class="intro-character-card">
                <div class="intro-character-avatar">
                    {% if other.llm_image %}
                        <img src="{{ other.llm_image.url }}" alt="{{ other.name }}">
                    {% else %}
                        <div class="avatar-placeholder">ğŸ¤–</div>
                    {% endif %}
                </div>
                <div class="intro-character-info">
                    <div class="intro-character-name">{{ other.name }}</div>
                    {% if other.first_sentence %}
                        <div class="intro-character-bio">"{{ other.first_sentence }}"</div>
                    {% endif %}
                </div>
            </div>
        {% endfor %}
    </div>
{% endif %}
        </div>



        <!-- ì „ì²´ë³´ê¸° -->
        <a href="javascript:history.back()" class="intro-more-link" data-login-required>â† ëŒì•„ê°€ê¸°</a>
    </div>
</div>
{% endblock %}
